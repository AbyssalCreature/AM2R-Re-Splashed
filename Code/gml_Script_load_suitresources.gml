if file_exists("mods/palettes/suits/power.png")
{
    if (oControl.msr_fusionsuit == 0)
        oControl.PowerPalette = sprite_add("mods/palettes/suits/power.png", 1, false, false, 0, 0)
}
if file_exists("mods/palettes/suits/varia.png")
{
    if (oControl.msr_fusionsuit == 0)
        oControl.VariaPalette = sprite_add("mods/palettes/suits/varia.png", 1, false, false, 0, 0)
}
if file_exists("mods/palettes/suits/gravity.png")
{
    if (oControl.msr_fusionsuit == 0)
        oControl.GravityPalette = sprite_add("mods/palettes/suits/gravity.png", 1, false, false, 0, 0)
}
if file_exists("mods/palettes/suits/fusion_power.png")
{
    if (oControl.msr_fusionsuit == 0)
        sprite_replace(sPalFusion0, "mods/palettes/suits/fusion_power.png", 1, false, false, 0, 0)
}
if file_exists("mods/palettes/suits/fusion_varia.png")
{
    if (oControl.msr_fusionsuit == 0)
        sprite_replace(sPalFusion1, "mods/palettes/suits/fusion_varia.png", 1, false, false, 0, 0)
}
if file_exists("mods/palettes/suits/fusion_gravity.png")
{
    if (oControl.msr_fusionsuit == 0)
        sprite_replace(sPalFusion2, "mods/palettes/suits/fusion_gravity.png", 1, false, false, 0, 0)
}
if file_exists("mods/palettes/suits/fusion_omega.png")
{
    if (oControl.msr_fusionsuit == 0)
        sprite_replace(sPalFusion3, "mods/palettes/suits/fusion_omega.png", 1, false, false, 0, 0)
}
if file_exists("mods/palettes/suits/SpaceJumpTrails/power.png")
{
    if (oControl.msr_fusionsuit == 0)
        sprite_replace(sSpaceJumpTrail, "mods/palettes/suits/SpaceJumpTrails/power.png", 1, false, false, sprite_get_xoffset(sSpaceJumpTrail), sprite_get_yoffset(sSpaceJumpTrail))
}
if file_exists("mods/palettes/suits/SpaceJumpTrails/varia.png")
{
    if (oControl.msr_fusionsuit == 0)
        sprite_replace(sSpaceJumpTrailVaria, "mods/palettes/suits/SpaceJumpTrails/varia.png", 1, false, false, sprite_get_xoffset(sSpaceJumpTrailVaria), sprite_get_yoffset(sSpaceJumpTrailVaria))
}
if file_exists("mods/palettes/suits/SpaceJumpTrails/gravity.png")
{
    if (oControl.msr_fusionsuit == 0)
        sprite_replace(sSpaceJumpTrailGravity, "mods/palettes/suits/SpaceJumpTrails/gravity.png", 1, false, false, sprite_get_xoffset(sSpaceJumpTrailGravity), sprite_get_yoffset(sSpaceJumpTrailGravity))
}
if file_exists("mods/palettes/suits/SpaceJumpTrails/fusion_power.png")
{
    if (oControl.msr_fusionsuit == 0)
        sprite_replace(sSpaceJumpTrail_fusion, "mods/palettes/suits/SpaceJumpTrails/fusion_power.png", 1, false, false, sprite_get_xoffset(sSpaceJumpTrail_fusion), sprite_get_yoffset(sSpaceJumpTrail_fusion))
}
if file_exists("mods/palettes/suits/SpaceJumpTrails/fusion_varia.png")
{
    if (oControl.msr_fusionsuit == 0)
        sprite_replace(sSpaceJumpTrailVaria_fusion, "mods/palettes/suits/SpaceJumpTrails/fusion_varia.png", 1, false, false, sprite_get_xoffset(sSpaceJumpTrailVaria_fusion), sprite_get_yoffset(sSpaceJumpTrailVaria_fusion))
}
if file_exists("mods/palettes/suits/SpaceJumpTrails/fusion_gravity.png")
{
    if (oControl.msr_fusionsuit == 0)
        sprite_replace(sSpaceJumpTrailGravity_fusion, "mods/palettes/suits/SpaceJumpTrails/fusion_gravity.png", 1, false, false, sprite_get_xoffset(sSpaceJumpTrailGravity_fusion), sprite_get_yoffset(sSpaceJumpTrailGravity_fusion))
}
if file_exists("mods/palettes/suits/SpaceJumpTrails/fusion_omega.png")
{
    if (oControl.msr_fusionsuit == 0)
        sprite_replace(sSpaceJumpTrailOmega_fusion, "mods/palettes/suits/SpaceJumpTrails/fusion_omega.png", 1, false, false, sprite_get_xoffset(sSpaceJumpTrailOmega_fusion), sprite_get_yoffset(sSpaceJumpTrailOmega_fusion))
}
if file_exists("mods/palettes/suits/SpiderBallGlow/power.png")
{
    if (oControl.msr_fusionsuit == 0)
        sprite_replace(sSpiderballFX, "mods/palettes/suits/SpiderBallGlow/power.png", 1, false, false, sprite_get_xoffset(sSpiderballFX), sprite_get_yoffset(sSpiderballFX))
}
if file_exists("mods/palettes/suits/SpiderBallGlow/varia.png")
{
    if (oControl.msr_fusionsuit == 0)
        sprite_replace(sSpiderballFXVaria, "mods/palettes/suits/SpiderBallGlow/varia.png", 1, false, false, sprite_get_xoffset(sSpiderballFXVaria), sprite_get_yoffset(sSpiderballFXVaria))
}
if file_exists("mods/palettes/suits/SpiderBallGlow/gravity.png")
{
    if (oControl.msr_fusionsuit == 0)
        sprite_replace(sSpiderballFXGravity, "mods/palettes/suits/SpiderBallGlow/gravity.png", 1, false, false, sprite_get_xoffset(sSpiderballFXGravity), sprite_get_yoffset(sSpiderballFXGravity))
}
if file_exists("mods/palettes/suits/SpiderBallGlow/fusion_power.png")
{
    if (oControl.msr_fusionsuit == 0)
        sprite_replace(sSpiderballFX_fusion, "mods/palettes/suits/SpiderBallGlow/fusion_power.png", 1, false, false, sprite_get_xoffset(sSpiderballFX_fusion), sprite_get_yoffset(sSpiderballFX_fusion))
}
if file_exists("mods/palettes/suits/SpiderBallGlow/fusion_varia.png")
{
    if (oControl.msr_fusionsuit == 0)
        sprite_replace(sSpiderballFXVaria_fusion, "mods/palettes/suits/SpiderBallGlow/fusion_varia.png", 1, false, false, sprite_get_xoffset(sSpiderballFXVaria_fusion), sprite_get_yoffset(sSpiderballFXVaria_fusion))
}
if file_exists("mods/palettes/suits/SpiderBallGlow/fusion_gravity.png")
{
    if (oControl.msr_fusionsuit == 0)
        sprite_replace(sSpiderballFXGravity_fusion, "mods/palettes/suits/SpiderBallGlow/fusion_gravity.png", 1, false, false, sprite_get_xoffset(sSpiderballFXGravity_fusion), sprite_get_yoffset(sSpiderballFXGravity_fusion))
}
if file_exists("mods/palettes/suits/SpiderBallGlow/fusion_omega.png")
{
    if (oControl.msr_fusionsuit == 0)
        sprite_replace(sSpiderballFXOmega_fusion, "mods/palettes/suits/SpiderBallGlow/fusion_omega.png", 1, false, false, sprite_get_xoffset(sSpiderballFXOmega_fusion), sprite_get_yoffset(sSpiderballFXOmega_fusion))
}
surf = -1
color = -1
if (!surface_exists(surf))
    surf = surface_create(4, 4)
surface_set_target(surf)
if file_exists("mods/palettes/suits/MorphTrailColors/power.png")
{
    if (oControl.msr_fusionsuit == 0)
    {
        color = sprite_add("mods/palettes/suits/MorphTrailColors/power.png", 1, false, false, 0, 0)
        draw_clear_alpha(c_black, 0)
        draw_sprite(color, 0, 0, 0)
        col = surface_getpixel_ext(surf, 0, 0)
        Trail_P_R = (col & 255)
        Trail_P_G = ((col >> 8) & 255)
        Trail_P_B = ((col >> 16) & 255)
    }
}
if file_exists("mods/palettes/suits/MorphTrailColors/varia.png")
{
    if (oControl.msr_fusionsuit == 0)
    {
        color = sprite_add("mods/palettes/suits/MorphTrailColors/varia.png", 1, false, false, 0, 0)
        draw_clear_alpha(c_black, 0)
        draw_sprite(color, 0, 0, 0)
        col = surface_getpixel_ext(surf, 0, 0)
        Trail_V_R = (col & 255)
        Trail_V_G = ((col >> 8) & 255)
        Trail_V_B = ((col >> 16) & 255)
    }
}
if file_exists("mods/palettes/suits/MorphTrailColors/gravity.png")
{
    if (oControl.msr_fusionsuit == 0)
    {
        color = sprite_add("mods/palettes/suits/MorphTrailColors/gravity.png", 1, false, false, 0, 0)
        draw_clear_alpha(c_black, 0)
        draw_sprite(color, 0, 0, 0)
        col = surface_getpixel_ext(surf, 0, 0)
        Trail_G_R = (col & 255)
        Trail_G_G = ((col >> 8) & 255)
        Trail_G_B = ((col >> 16) & 255)
    }
}
if file_exists("mods/palettes/suits/MorphTrailColors/fusion_power.png")
{
    if oControl.msr_fusionsuit
    {
        color = sprite_add("mods/palettes/suits/MorphTrailColors/fusion_power.png", 1, false, false, 0, 0)
        draw_clear_alpha(c_black, 0)
        draw_sprite(color, 0, 0, 0)
        col = surface_getpixel_ext(surf, 0, 0)
        Trail_P_R_F = (col & 255)
        Trail_P_G_F = ((col >> 8) & 255)
        Trail_P_B_F = ((col >> 16) & 255)
    }
}
if file_exists("mods/palettes/suits/MorphTrailColors/fusion_varia.png")
{
    if oControl.msr_fusionsuit
    {
        color = sprite_add("mods/palettes/suits/MorphTrailColors/fusion_varia.png", 1, false, false, 0, 0)
        draw_clear_alpha(c_black, 0)
        draw_sprite(color, 0, 0, 0)
        col = surface_getpixel_ext(surf, 0, 0)
        Trail_V_R_F = (col & 255)
        Trail_V_G_F = ((col >> 8) & 255)
        Trail_V_B_F = ((col >> 16) & 255)
    }
}
if file_exists("mods/palettes/suits/MorphTrailColors/fusion_gravity.png")
{
    if oControl.msr_fusionsuit
    {
        color = sprite_add("mods/palettes/suits/MorphTrailColors/fusion_gravity.png", 1, false, false, 0, 0)
        draw_clear_alpha(c_black, 0)
        draw_sprite(color, 0, 0, 0)
        col = surface_getpixel_ext(surf, 0, 0)
        Trail_G_R_F = (col & 255)
        Trail_G_G_F = ((col >> 8) & 255)
        Trail_G_B_F = ((col >> 16) & 255)
    }
}
if file_exists("mods/palettes/suits/MorphTrailColors/fusion_omega.png")
{
    if oControl.msr_fusionsuit
    {
        color = sprite_add("mods/palettes/suits/MorphTrailColors/fusion_omega.png", 1, false, false, 0, 0)
        draw_clear_alpha(c_black, 0)
        draw_sprite(color, 0, 0, 0)
        col = surface_getpixel_ext(surf, 0, 0)
        Trail_O_R_F = (col & 255)
        Trail_O_G_F = ((col >> 8) & 255)
        Trail_O_B_F = ((col >> 16) & 255)
    }
}
if file_exists("mods/palettes/suits/power2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        oControl.PowerPalette = sprite_add("mods/palettes/suits/power2D.png", 1, false, false, 0, 0)
}
if file_exists("mods/palettes/suits/varia2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        oControl.VariaPalette = sprite_add("mods/palettes/suits/varia2D.png", 1, false, false, 0, 0)
}
if file_exists("mods/palettes/suits/gravity2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        oControl.GravityPalette = sprite_add("mods/palettes/suits/gravity2D.png", 1, false, false, 0, 0)
}
if file_exists("mods/palettes/suits/fusion_power2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        sprite_replace(sPalFusion0, "mods/palettes/suits/fusion_power2D.png", 1, false, false, 0, 0)
}
if file_exists("mods/palettes/suits/fusion_varia2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        sprite_replace(sPalFusion1, "mods/palettes/suits/fusion_varia2D.png", 1, false, false, 0, 0)
}
if file_exists("mods/palettes/suits/fusion_gravity2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        sprite_replace(sPalFusion2, "mods/palettes/suits/fusion_gravity2D.png", 1, false, false, 0, 0)
}
if file_exists("mods/palettes/suits/fusion_omega2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        sprite_replace(sPalFusion3, "mods/palettes/suits/fusion_omega2D.png", 1, false, false, 0, 0)
}
if file_exists("mods/palettes/suits/SpaceJumpTrails/power2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        sprite_replace(sSpaceJumpTrail2D, "mods/palettes/suits/SpaceJumpTrails/power2D.png", 1, false, false, sprite_get_xoffset(sSpaceJumpTrail), sprite_get_yoffset(sSpaceJumpTrail))
}
if file_exists("mods/palettes/suits/SpaceJumpTrails/varia2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        sprite_replace(sSpaceJumpTrailVaria2D, "mods/palettes/suits/SpaceJumpTrails/varia2D.png", 1, false, false, sprite_get_xoffset(sSpaceJumpTrailVaria), sprite_get_yoffset(sSpaceJumpTrailVaria))
}
if file_exists("mods/palettes/suits/SpaceJumpTrails/gravity2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        sprite_replace(sSpaceJumpTrailGravity2D, "mods/palettes/suits/SpaceJumpTrails/gravity2D.png", 1, false, false, sprite_get_xoffset(sSpaceJumpTrailGravity), sprite_get_yoffset(sSpaceJumpTrailGravity))
}
if file_exists("mods/palettes/suits/SpaceJumpTrails/fusion_power2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        sprite_replace(sSpaceJumpTrail_fusion2D, "mods/palettes/suits/SpaceJumpTrails/fusion_power2D.png", 1, false, false, sprite_get_xoffset(sSpaceJumpTrail_fusion), sprite_get_yoffset(sSpaceJumpTrail_fusion))
}
if file_exists("mods/palettes/suits/SpaceJumpTrails/fusion_varia2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        sprite_replace(sSpaceJumpTrailVaria_fusion2D, "mods/palettes/suits/SpaceJumpTrails/fusion_varia2D.png", 1, false, false, sprite_get_xoffset(sSpaceJumpTrailVaria_fusion), sprite_get_yoffset(sSpaceJumpTrailVaria_fusion))
}
if file_exists("mods/palettes/suits/SpaceJumpTrails/fusion_gravity2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        sprite_replace(sSpaceJumpTrailGravity_fusion2D, "mods/palettes/suits/SpaceJumpTrails/fusion_gravity2D.png", 1, false, false, sprite_get_xoffset(sSpaceJumpTrailGravity_fusion), sprite_get_yoffset(sSpaceJumpTrailGravity_fusion))
}
if file_exists("mods/palettes/suits/SpaceJumpTrails/fusion_omega2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        sprite_replace(sSpaceJumpTrailOmega_fusion2D, "mods/palettes/suits/SpaceJumpTrails/fusion_omega2D.png", 1, false, false, sprite_get_xoffset(sSpaceJumpTrailOmega_fusion), sprite_get_yoffset(sSpaceJumpTrailOmega_fusion))
}
if file_exists("mods/palettes/suits/SpiderBallGlow/power2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        sprite_replace(sSpiderballFX, "mods/palettes/suits/SpiderBallGlow/power2D.png", 1, false, false, sprite_get_xoffset(sSpiderballFX), sprite_get_yoffset(sSpiderballFX))
}
if file_exists("mods/palettes/suits/SpiderBallGlow/varia2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        sprite_replace(sSpiderballFXVaria, "mods/palettes/suits/SpiderBallGlow/varia2D.png", 1, false, false, sprite_get_xoffset(sSpiderballFXVaria), sprite_get_yoffset(sSpiderballFXVaria))
}
if file_exists("mods/palettes/suits/SpiderBallGlow/gravity2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        sprite_replace(sSpiderballFXGravity, "mods/palettes/suits/SpiderBallGlow/gravity2D.png", 1, false, false, sprite_get_xoffset(sSpiderballFXGravity), sprite_get_yoffset(sSpiderballFXGravity))
}
if file_exists("mods/palettes/suits/SpiderBallGlow/fusion_power2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        sprite_replace(sSpiderballFX_fusion, "mods/palettes/suits/SpiderBallGlow/fusion_power2D.png", 1, false, false, sprite_get_xoffset(sSpiderballFX_fusion), sprite_get_yoffset(sSpiderballFX_fusion))
}
if file_exists("mods/palettes/suits/SpiderBallGlow/fusion_varia2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        sprite_replace(sSpiderballFXVaria_fusion, "mods/palettes/suits/SpiderBallGlow/fusion_varia2D.png", 1, false, false, sprite_get_xoffset(sSpiderballFXVaria_fusion), sprite_get_yoffset(sSpiderballFXVaria_fusion))
}
if file_exists("mods/palettes/suits/SpiderBallGlow/fusion_gravity2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        sprite_replace(sSpiderballFXGravity_fusion, "mods/palettes/suits/SpiderBallGlow/fusion_gravity2D.png", 1, false, false, sprite_get_xoffset(sSpiderballFXGravity_fusion), sprite_get_yoffset(sSpiderballFXGravity_fusion))
}
if file_exists("mods/palettes/suits/SpiderBallGlow/fusion_omega2D.png")
{
    if (oControl.msr_fusionsuit == 1)
        sprite_replace(sSpiderballFXOmega_fusion, "mods/palettes/suits/SpiderBallGlow/fusion_omega2D.png", 1, false, false, sprite_get_xoffset(sSpiderballFXOmega_fusion), sprite_get_yoffset(sSpiderballFXOmega_fusion))
}
surf = -1
color = -1
if (!surface_exists(surf))
    surf = surface_create(4, 4)
surface_set_target(surf)
if file_exists("mods/palettes/suits/MorphTrailColors/power2D.png")
{
    if (oControl.msr_fusionsuit == 1)
    {
        color = sprite_add("mods/palettes/suits/MorphTrailColors/power2D.png", 1, false, false, 0, 0)
        draw_clear_alpha(c_black, 0)
        draw_sprite(color, 0, 0, 0)
        col = surface_getpixel_ext(surf, 0, 0)
        Trail_P_R = (col & 255)
        Trail_P_G = ((col >> 8) & 255)
        Trail_P_B = ((col >> 16) & 255)
    }
}
if file_exists("mods/palettes/suits/MorphTrailColors/varia2D.png")
{
    if (oControl.msr_fusionsuit == 1)
    {
        color = sprite_add("mods/palettes/suits/MorphTrailColors/varia2D.png", 1, false, false, 0, 0)
        draw_clear_alpha(c_black, 0)
        draw_sprite(color, 0, 0, 0)
        col = surface_getpixel_ext(surf, 0, 0)
        Trail_V_R = (col & 255)
        Trail_V_G = ((col >> 8) & 255)
        Trail_V_B = ((col >> 16) & 255)
    }
}
if file_exists("mods/palettes/suits/MorphTrailColors/gravity2D.png")
{
    if (oControl.msr_fusionsuit == 1)
    {
        color = sprite_add("mods/palettes/suits/MorphTrailColors/gravity2D.png", 1, false, false, 0, 0)
        draw_clear_alpha(c_black, 0)
        draw_sprite(color, 0, 0, 0)
        col = surface_getpixel_ext(surf, 0, 0)
        Trail_G_R = (col & 255)
        Trail_G_G = ((col >> 8) & 255)
        Trail_G_B = ((col >> 16) & 255)
    }
}
if file_exists("mods/palettes/suits/MorphTrailColors/fusion_power2D.png")
{
    if (oControl.msr_fusionsuit == 1)
    {
        color = sprite_add("mods/palettes/suits/MorphTrailColors/fusion_power2D.png", 1, false, false, 0, 0)
        draw_clear_alpha(c_black, 0)
        draw_sprite(color, 0, 0, 0)
        col = surface_getpixel_ext(surf, 0, 0)
        Trail_P_R_F = (col & 255)
        Trail_P_G_F = ((col >> 8) & 255)
        Trail_P_B_F = ((col >> 16) & 255)
    }
}
if file_exists("mods/palettes/suits/MorphTrailColors/fusion_varia2D.png")
{
    if (oControl.msr_fusionsuit == 1)
    {
        color = sprite_add("mods/palettes/suits/MorphTrailColors/fusion_varia2D.png", 1, false, false, 0, 0)
        draw_clear_alpha(c_black, 0)
        draw_sprite(color, 0, 0, 0)
        col = surface_getpixel_ext(surf, 0, 0)
        Trail_V_R_F = (col & 255)
        Trail_V_G_F = ((col >> 8) & 255)
        Trail_V_B_F = ((col >> 16) & 255)
    }
}
if file_exists("mods/palettes/suits/MorphTrailColors/fusion_gravity2D.png")
{
    if (oControl.msr_fusionsuit == 1)
    {
        color = sprite_add("mods/palettes/suits/MorphTrailColors/fusion_gravity2D.png", 1, false, false, 0, 0)
        draw_clear_alpha(c_black, 0)
        draw_sprite(color, 0, 0, 0)
        col = surface_getpixel_ext(surf, 0, 0)
        Trail_G_R_F = (col & 255)
        Trail_G_G_F = ((col >> 8) & 255)
        Trail_G_B_F = ((col >> 16) & 255)
    }
}
if file_exists("mods/palettes/suits/MorphTrailColors/fusion_omega2D.png")
{
    if (oControl.msr_fusionsuit == 1)
    {
        color = sprite_add("mods/palettes/suits/MorphTrailColors/fusion_omega2D.png", 1, false, false, 0, 0)
        draw_clear_alpha(c_black, 0)
        draw_sprite(color, 0, 0, 0)
        col = surface_getpixel_ext(surf, 0, 0)
        Trail_O_R_F = (col & 255)
        Trail_O_G_F = ((col >> 8) & 255)
        Trail_O_B_F = ((col >> 16) & 255)
    }
}
